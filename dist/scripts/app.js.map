{"version":3,"sources":["webpack:///./resources/assets/scripts/app.js","webpack:///./resources/assets/styles/admin.scss","webpack:///./resources/assets/styles/app.scss?4db8","webpack:///./resources/assets/styles/editor.scss?5404"],"names":["setAppHeight","window","debounce","addToggleListener","document","submenuTriggers","i","trigger","e","item","toggle","menu","doc","console","el","requestAnimationFrame","toggleAriaExpanded","isExpanded","controlsStr","close","open","controls","controlEl","itemEl","controlsEl","itemsWithSubmenu","itemWithSubmenu","matchMedia","Array","openItem","closeItem"],"mappings":"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","file":"/scripts/app.js","sourcesContent":["import debounce from 'lodash-es/debounce';\r\n\r\nsetAppHeight()\r\nwindow.addEventListener('resize', debounce(setAppHeight, 150));\r\n\r\naddToggleListener(document.querySelector('.site-hamburger-button'))\r\n\r\nconst submenuTriggers = document.querySelectorAll('.site-navigation__submenu-trigger');\r\nfor (let i = 0; i < submenuTriggers.length; i++) {\r\n  const trigger = submenuTriggers[i];\r\n  trigger.addEventListener('click', (e) => {\r\n    e.preventDefault();\r\n    const item = e.target.closest('[aria-haspopup]');\r\n    toggle(item);\r\n  })\r\n}\r\n\r\nif (document.querySelector('.site-navigation')) {\r\n  menu(document.querySelector('.site-navigation'));\r\n}\r\n\r\nfunction setAppHeight () {\r\n  const doc = document.documentElement\r\n  doc.style.setProperty('--app-height', `${window.innerHeight}px`)\r\n}\r\n\r\nfunction addToggleListener (el) {\r\n  if (!el) {\r\n    console.warn('Trying to add toggle listener to element that does not exist')\r\n    return\r\n  }\r\n  el.addEventListener('click', () => requestAnimationFrame(() => toggleAriaExpanded(el)))\r\n}\r\n\r\nfunction toggleAriaExpanded (el) {\r\n  const isExpanded = el.getAttribute('aria-expanded') === 'true'\r\n  el.setAttribute('aria-expanded', !isExpanded)\r\n\r\n  const controlsStr = el.getAttribute('aria-controls')\r\n  if (controlsStr) {\r\n    controlsStr.split(' ').forEach((selector => {\r\n      const el = document.getElementById(selector)\r\n      if (el) {\r\n        el.classList[isExpanded ? 'remove' : 'add']('is-expanded')\r\n      }\r\n    }))\r\n  }\r\n}\r\n\r\nfunction toggle(el) {\r\n  const isExpanded = el.getAttribute('aria-expanded') === 'true';\r\n  if (isExpanded) {\r\n    close(el);\r\n  } else {\r\n    open(el);\r\n  }\r\n\r\n  const controls = el.getAttribute('aria-controls');\r\n  if (controls) {\r\n    controls.split(' ').forEach((selector) => {\r\n      const el  = document.getElementById(selector);\r\n      if (isExpanded) {\r\n        el.classList.remove('is-active');\r\n      }\r\n      else {\r\n        el.classList.add('is-active');\r\n      }\r\n    });\r\n  }\r\n\r\n  function open(el) {\r\n    el.setAttribute('aria-expanded', true);\r\n  }\r\n\r\n  function close(el) {\r\n    el.setAttribute('aria-expanded', false);\r\n  }\r\n}\r\n\r\nfunction openItem (itemEl) {\r\n  if (!itemEl) return\r\n  const controlEl = itemEl.querySelector('[aria-haspopup=\"true\"]')\r\n  const controlsEl = controlEl && controlEl.getAttribute('aria-controls')\r\n    ? document.getElementById(controlEl.getAttribute('aria-controls'))\r\n    : undefined\r\n  if (controlEl) {\r\n    controlEl.setAttribute('aria-expanded', true);\r\n  }\r\n  if (controlsEl) {\r\n    controlsEl.classList.add('is-active')\r\n  }\r\n}\r\n\r\nfunction closeItem (itemEl) {\r\n  if (!itemEl) return\r\n  const controlEl = itemEl.querySelector('[aria-haspopup=\"true\"]')\r\n  const controlsEl = controlEl && controlEl.getAttribute('aria-controls')\r\n    ? document.getElementById(controlEl.getAttribute('aria-controls'))\r\n    : undefined\r\n  if (controlEl) {\r\n    controlEl.setAttribute('aria-expanded', false);\r\n  }\r\n  if (controlsEl) {\r\n    controlsEl.classList.remove('is-active')\r\n  }\r\n}\r\n\r\nexport function menu(menu) {\r\n  const itemsWithSubmenu = menu.querySelectorAll('.has-children')\r\n\r\n  for (let i = 0; i < itemsWithSubmenu.length; i++) {\r\n    const itemWithSubmenu = itemsWithSubmenu[i]\r\n\r\n    itemWithSubmenu.addEventListener('mouseover', () => requestAnimationFrame(() => {\r\n      if (!matchMedia('(min-width: 1024px)').matches) return\r\n      // Close other submenus\r\n      Array.from(itemsWithSubmenu).forEach(closeItem)\r\n      openItem(itemWithSubmenu)\r\n    }))\r\n\r\n    itemWithSubmenu.addEventListener('mouseout', () => requestAnimationFrame(() => {\r\n      if (!matchMedia('(min-width: 1024px)').matches) return\r\n      closeItem(itemWithSubmenu)\r\n    }))\r\n  }\r\n}\r\n","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin"],"sourceRoot":""}